{% extends "recursos/layout_dashboard.html" %}

{% block title %}Sugerir Recurso - Directorio de Recursos{% endblock %}

{% block content %}
<div class="card shadow-sm mb-4">
    <div class="card-header bg-white py-3">
        <h2 class="h5 card-title mb-0"><i class="bi bi-lightbulb me-2"></i>Sugerir Nuevo Recurso/IA</h2>
    </div>
    <div class="card-body">
        <p class="card-text text-muted">
            ¡Gracias por contribuir! Rellena el siguiente formulario para sugerir una nueva herramienta o IA para tu carrera.
            Tu sugerencia será revisada por un coordinador antes de ser publicada.
        </p>
        <hr>
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}

            {% comment %} Renderizado manual para aplicar estilos Bootstrap {% endcomment %}
            <div class="mb-3">
                <label for="{{ form.nombre.id_for_label }}" class="form-label">{{ form.nombre.label }}</label>
                {{ form.nombre }}
                {% if form.nombre.errors %}<div class="text-danger small">{{ form.nombre.errors }}</div>{% endif %}
            </div>
            <div class="mb-3">
                <label for="{{ form.descripcion.id_for_label }}" class="form-label">{{ form.descripcion.label }}</label>
                {{ form.descripcion }}
                {% if form.descripcion.errors %}<div class="text-danger small">{{ form.descripcion.errors }}</div>{% endif %}
            </div>
            <div class="mb-3">
                <label for="{{ form.uso_ideal.id_for_label }}" class="form-label">{{ form.uso_ideal.label }}</label>
                {{ form.uso_ideal }}
                {% if form.uso_ideal.errors %}<div class="text-danger small">{{ form.uso_ideal.errors }}</div>{% endif %}
            </div>
            <div class="mb-3">
                <label for="{{ form.url_externa.id_for_label }}" class="form-label">{{ form.url_externa.label }}</label>
                {{ form.url_externa }}
                {% if form.url_externa.errors %}<div class="text-danger small">{{ form.url_externa.errors }}</div>{% endif %}
            </div>
            <div class="mb-3">
                <label for="{{ form.tipo.id_for_label }}" class="form-label">{{ form.tipo.label }}</label>
                {{ form.tipo }}
                {% if form.tipo.errors %}<div class="text-danger small">{{ form.tipo.errors }}</div>{% endif %}
            </div>
            <div class="mb-3">
                <label for="{{ form.carreras.id_for_label }}" class="form-label">{{ form.carreras.label }}</label>
                <div class="border rounded p-2">
                    {{ form.carreras }}
                </div>
                {% if form.carreras.errors %}<div class="text-danger small">{{ form.carreras.errors }}</div>{% endif %}
            </div>
            <div class="mb-3">
                <label for="{{ form.imagen.id_for_label }}" class="form-label">{{ form.imagen.label }}</label>
                {{ form.imagen }}
                {% if form.imagen.errors %}<div class="text-danger small">{{ form.imagen.errors }}</div>{% endif %}
            </div>

            {% comment %} Errores no relacionados a campos {% endcomment %}
            {% if form.non_field_errors %}
                <div class="alert alert-danger" role="alert">
                    {% for error in form.non_field_errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}

            <button type="submit" class="btn btn-primary mt-3"><i class="bi bi-send me-2"></i>Enviar Sugerencia</button>
        </form>
    </div>
</div>
{% endblock %}